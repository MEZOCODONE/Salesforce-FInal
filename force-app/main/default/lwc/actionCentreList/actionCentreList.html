<template>
    <lightning-card title="–°–ø–∏—Å–æ–∫">
        <div class="slds-p-horizontal_medium slds-m-bottom_medium">
            <lightning-combobox
                name="viewType"
                label="–ß—Ç–æ –ø–æ–∫–∞–∑–∞—Ç—å?"
                value={viewType}
                options={typeOptions}
                onchange={handleTypeChange}>
            </lightning-combobox>
        </div>
        
        <c-custom-toast-cmp></c-custom-toast-cmp>

        <!-- –¶–µ–Ω—Ç—Ä—ã -->
        <template if:true={hasCentres}>
            <ul class="slds-list_dotted slds-p-horizontal_medium">
                <template for:each={centres} for:item="centre">
                    <li key={centre.Id} class="slds-m-bottom_small">
                        <a href={centre.url} target="_blank">
                            <strong>{centre.Name}</strong>
                        </a><br />
                        üìç <strong>{centre.Address__c.country}, {centre.Address__c.city}, {centre.Address__c.street},</strong> {centre.Address__c.postalCode} <br />
                        üïí {centre.Working_Hours__c}
                    </li>
                </template>
            </ul>
        </template>

        <!-- –ü—Ä–æ—Ü–µ–¥—É—Ä—ã -->
        <template if:true={hasProcedures}>
            <a href={pdfUrl} target="_blank">
                <lightning-button label="Export PDF" variant="brand"></lightning-button>
            </a>
            <lightning-combobox name="currency"
                                label="–í–∞–ª—é—Ç–∞"
                                value={selectedCurrency}
                                options={currencyOptions}
                                onchange={handleCurrencyChange}>
            </lightning-combobox>
            <ul class="slds-list_dotted slds-p-horizontal_medium">
                <template for:each={procedures} for:item="procedure">
                    <li key={procedure.Id} class="slds-m-bottom_small">
                        <a href={procedure.url} target="_blank">
                            <strong>{procedure.name}</strong> </a> ‚Äî <strong>{procedure.convertedPrice} {selectedCurrency}</strong>
                        </a><br />
                    </li>
                </template>
            </ul>
        </template>

        <template if:true={error}>
            <p class="slds-text-color_error slds-p-horizontal_medium">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö</p>
        </template>
    </lightning-card>
</template>


